<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>js正则表达式 | from2.net</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">js正则表达式</h1><a id="logo" href="/.">from2.net</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">js正则表达式</h1><div class="post-meta">2008-03-24<span> | </span><span class="category"><a href="/categories/%E8%BD%AF%E4%BB%B6%E6%8A%80%E6%9C%AF/">软件技术</a></span></div><div class="post-content"><div class="tit">&nbsp;</div>
<table>
    <tbody>
        <tr>
            <td>
            <div class="cnt" id="blog_text">
            <p><span style="FONT-WEIGHT: bold;">1， var str=&ldquo; abbbbacc&rdquo;;<br />var rs=str.replace(&ldquo;a&rdquo;,&rdquo;0&rdquo;);&nbsp;&nbsp;&nbsp; <br /><span style="COLOR: rgb(255,0,0);">(A)</span>0bbbbacc (B)0bbbb0cc<br />2，var str=&ldquo; abbbbacc&rdquo;;<br />var rs=str.replace(&ldquo;/a/&rdquo;,&rdquo;0&rdquo;);&nbsp;&nbsp;&nbsp; <br /><span style="COLOR: rgb(255,0,0);">(A)</span>0bbbbacc (B)0bbbb0cc <br />3，var str=&ldquo; abbbbacc&rdquo;;<br />var rs=str.replace(&ldquo;/a/g&rdquo;,&rdquo;0&rdquo;);&nbsp;&nbsp;&nbsp; <br />(A)0bbbbacc <span style="COLOR: rgb(255,0,0);">(B)</span>0bbbb0cc <br />附注：String对象的replace方法签名为：<br />replace(regx,str)<br /><br /><span style="FONT-SIZE: 18pt;">一，概述</span></span></p>
            <p>1，正则表达式，可以说是任何一种编程语言都提供的机制，它主要是提供了对字符串的处理能力。<br />2，正则表达式在页面处理中的使用场景：<br />1）表单验证。验证某些域符合某种规则，例如邮件输入框必须输入的是邮件、联系电话输入框输入的必须是数字等等<br />2）处理DOM模型。例如通过表达式定位DOM中的一个对象或一系列对象，一个例子就是定位id属性中含有某个特殊字符的div对象。<br />3）纯编程逻辑。直接用于编程的逻辑之中。<br />3，说明：本部分所举的正则表达式的代码片断，都是经过测试的，但有一点需要注意，对于换行的字符串的定义，我们在表述时使用的是类似如下的形式：<br />var str=&ldquo;It&rsquo;s is<br />a beautiful city&rdquo;；<br />这种形式直接写在JS代码中是错误的，那如何获取具有换行的字符串呢？简单的办法：在textarea中输入文本并换行，然后将该值赋给JS变量即可。例如：<br />var str=document.forms[0].mytextarea.value;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</p>
            <p><span style="FONT-WEIGHT: bold; FONT-SIZE: 18pt;">二，语法与使用</span></p>
            <p><span style="FONT-WEIGHT: bold;">1，定义正则表达式</span></p>
            <p>1）定义正则表达式有两种形式，一种是普通方式，一种是构造函数方式。<br />2）普通方式：var reg=/表达式/附加参数<br />表达式：一个字符串，代表了某种规则，其中可以使用某些特殊字符，来代表特殊的规则，后面会详细说明。<br />附加参数：用来扩展表达式的含义，目前主要有三个参数：<br />g：代表可以进行全局匹配。<br />i：代表不区分大小写匹配。<br />m：代表可以进行多行匹配。<br />上面三个参数，可以任意组合，代表复合含义，当然也可以不加参数。<br />例子：<br />var reg=/a*b/;<br />var reg=/abc+f/g;<br />3）构造函数方式：var reg=new RegExp(&ldquo;表达式&rdquo;,&rdquo;附加参数&rdquo;);<br />其中&ldquo;表达式&rdquo;与&ldquo;附加参数&rdquo;的含义与上面那种定义方式中的含义相同。<br />例子：<br />var reg=new RegExp(&ldquo;a*b&rdquo;);<br />var reg=new RegExp(&ldquo;abc+f&rdquo;,&rdquo;g&rdquo;);<br />4）普通方式与构造函数方式的区别<br />普通方式中的表达式必须是一个常量字符串，而构造函数中的表达式可以是常量字符串，也可以是一个js变量，例如根据用户的输入来作为表达式参数等等：<br />var reg=new RegExp(document.forms[0].exprfiled.value,&rdquo;g&rdquo;);</p>
            <p><span style="FONT-WEIGHT: bold;">2，表达式模式</span></p>
            <p>1）表达式模式，是指表达式的表达方式与样式， 即 var reg=/表达式/附加参数 中的&ldquo;表达式&rdquo;怎样去描述？<br />2）从规范上讲，表达式模式分为简单模式和复合模式。<br />3）简单模式：是指通过普通字符的组合来表达的模式，例如<br />var reg=/abc0d/;<br />可见简单模式只能表示具体的匹配。<br />4）复合模式：是指含有通配符来表达的模式，例如：<br />var reg=/a+b?\w/;<br />其中的+、?和\w都属于通配符，代表着特殊的含义。因此复合模式可以表达更为抽象化的逻辑。<br />下面我们着重说一下复合模式中各个通配符的含义及其使用。<br />5)复合模式中特殊字符的讲解：</p>
            <p>1&gt;\：在许多编程语言里面被用作转义符，一般来说<br />\符号后面如果跟的是普通字符c，那么\c就代表特殊的含义，例如n本来代表字符n，但\n就代表换行。<br />\符号后面如果跟的是特殊字符c，那么\c就代表普通字符c，例如\一般用作转义符，但\\则调表普通字符\。<br />Javascript的正则表达式中\的用法与上面相同，只是不同的编程语言，特殊字符表可能不太一样罢了。</p>
            <p>2&gt;^：匹配输入字符串的起始端，如果是多行匹配，即表达式的附加参数中含有m，则也在一个换行符后匹配。<br />例子：/^B/匹配 &ldquo;Bab Bc &rdquo;中的第一个B<br />例子2：/^B/gm匹配<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &ldquo;Badd B<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cdaf<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B dsfB&rdquo;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 中的第一行第一个B，第三行中的第一个B<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />3&gt;$：匹配输入字符创的尾端，如果是多行匹配，即表达式的附加参数中含有m，则也在一个换行符前匹配。<br />与^的用法相反。<br />例子：/t$/匹配&ldquo;bat&rdquo;中的t，但是不匹配&ldquo;hate&rdquo;中的t<br />例子2：/t$/匹配<br />&ldquo;tag at<br />bat&rdquo;<br />中第一行的最后一个t和第二行的t。</p>
            <p>4&gt;*：匹配前一个字符0次或多次。<br />例子：/ab*/匹配&ldquo;dddabbbbc&rdquo;中的&ldquo;abbbb&rdquo;，也匹配&ldquo;ddda&rdquo;中的&ldquo;a&rdquo;</p>
            <p>5&gt;+：匹配前一个字符1次或多次。<br />例子：/ab+/匹配&ldquo;dddabbbbc&rdquo;中的&ldquo;abbbb&rdquo;，但不匹配&ldquo;ddda&rdquo;<br />与后面的{1,}（原型：{n,}）的用法类似</p>
            <p>6&gt;?：?的用法比较特殊，一般来说它用来对前一个字符做0次或1次匹配，但是它有另外两种特殊的用法：<br />如果紧跟在*、+、?和{ }之后，则表示原始匹配的最小次数匹配，例如：<br />/ba*/本来匹配&ldquo;bbbaaaa&rdquo;中的&ldquo;baaaa&rdquo;，但是/ba*?/则匹配&ldquo;bbbaaaa&rdquo;中的&ldquo;b&rdquo;（因为*表示0次或多次匹配，而加?应该表示最少次数匹配，即0次匹配）。<br />同理：/ba+?/则匹配&ldquo;baaaa&rdquo;中的&ldquo;ba&rdquo;。<br />作为语法结构符号，使用于前置断言中，即后面要说到的x(?=y)和x(?!=y)</p>
            <p>7&gt;.：小数点中的&ldquo;.&rdquo;号，匹配任何一个单独的字符，但是换行符除外。<br />标准中总共有哪些字符？请参考：字符集<br />例如：/a.b/匹配&ldquo;acbaa&rdquo;中的&ldquo;acb&rdquo;，但是不匹配&ldquo;abbb&rdquo;。</p>
            <p>8&gt;(x)：表示匹配x(并非特指字符x或者特指一个字符，x表示一个字符串)，而且匹配会被记住，在语法中这种()被称为&ldquo;capturing parentheses &rdquo;，即捕捉用的小括号。<br />匹配会被记住，是因为在表达式提供的函数中，有些函数返回一个数组，该数组会保存所匹配的所有字符串，例如exec()函数。<br />另外还要注意()中的x被记住的前提是匹配x。<br />例子1：<br />var regx=/a(b)c/;<br />var rs=regx.exec(&ldquo;abcddd&rdquo;);<br />从上面可以看出,/a(b)c/匹配&ldquo;abcddd&rdquo;中的&ldquo;abc&rdquo;，因为()的原因，b也会记录下来，因此rs返回的数字内容为：<br />{abc,b}<br />例子2：<br />var regx=/a(b)c/;<br />var rs=regx.exec(&ldquo;acbcddd&rdquo;);<br />rs返回null，因为/a(b)c/不匹配&ldquo;acbcddd&rdquo;，所以()中的b不会被记录下来（尽管字符串中含有b）<br /><br />9&gt;(?:x)：匹配x，但不会记住x，这种格式中的()被称为&ldquo;non-capturing parentheses &rdquo;，即非捕捉用的小括号。<br />例子：<br />var regx=/a(?:b)c/;<br />var rs=regx.exec(&ldquo;abcddd&rdquo;);<br />从上面可以看出,/a(?:b)c/匹配&ldquo;abcddd&rdquo;中的&ldquo;abc&rdquo;，因为(?:)的原因，b不会记录下来，因此rs返回的数字内容为：<br />{abc}</p>
            <p>10&gt;X(?=y)：匹配x，仅当后面紧跟着y时。如果符合匹配，则只有x会被记住，y不会被记住。<br />例子：<br />var regx=/user(?=name)/;<br />var rs=regx.exec(&ldquo;The username is Mary&rdquo;);<br />结果：匹配成功，而且rs的值为{user}</p>
            <p>11&gt;X(?!y)：匹配x，仅当后面不紧跟着y时。如果符合匹配，则只有x会被记住，y不会被记住。<br />例子：<br />var regx=/user(?!name)/;<br />var rs=regx.exec(&ldquo;The user name is Mary&rdquo;);<br />结果：匹配成功，而且rs的值为{user}<br />例子2：<br />var regx=/\d+(?!\.)/;<br />var rs=regx.exec(&ldquo;54.235&rdquo;);<br />结果：匹配成果，rs的值为{5}，不匹配54是因为54后面跟着&ldquo;.&rdquo;号，当然235也匹配，但是由于exec方法的行为，235不会被返回</p>
            <p>12&gt;x|y：匹配x或y。注意如果x和y都匹配上了，那么只记住x。<br />例子：<br />var regx=/beijing|shanghai/;<br />var rs=regx.exec(&ldquo;I love beijing and shanghai&rdquo;);<br />结果：匹配成功，rs的值为{beijing}，虽然shanghai也匹配，但不会被记住。</p>
            <p>13&gt;{n}：匹配前一个字符的n次出现。<br />n必须是一个非负数，当然如果是一个负数或小数也不会报语法错误。<br />例子：<br />var regx=/ab{2}c/;<br />var rs=regx.exec(&ldquo;abbcd&rdquo;);<br />结果：匹配成功，rs的值为：{abbc}。</p>
            <p>14&gt;{n,}：匹配前一个字符的至少n次出现。<br />例子：<br />var regx=/ab{2,}c/;<br />var rs=regx.exec(&ldquo;abbcdabbbc&rdquo;);<br />结果：匹配成功，rs的值为：{abbc}。注意为什么abbbc也符合条件为什么没有被记住，这与exec方法的行为有关，后面会统一讲解。</p>
            <p>15&gt;{n,m}：匹配前一个字符的至少n次最多m次的出现。<br />只要n与m为数字，而且m&gt;=n就不会报语法错误。<br />例子：<br />var regx=/ab{2,5}c/;<br />var rs=regx.exec(&ldquo;abbbcd&rdquo;);<br />结果：匹配成功，rs的值为：{abbbc}。<br />例子2：<br />var regx=/ab{2,2}c/;<br />var rs=regx.exec(&ldquo;abbcd&rdquo;);<br />结果：匹配成功，rs的值为：{abbc}。<br />例子3：<br />var regx=/ab(2,5)/;<br />var rs=regx.exec(&ldquo;abbbbbbbbbb&rdquo;);<br />结果：匹配成功，rs的值为：{abbbbb}，这说明，如果前一个字符出现多于m次，则只匹配m次。另外：<br />var regx=/ab(2,5)c/;<br />var rs=regx.exec(&ldquo;abbbbbbbbbbc&rdquo;);<br />结果：匹配失败，rs的值为：null，为什么匹配失败，因为b多于5个则b(2,5)会匹配前5个b，，而表达式/ab(2,5)c/中b后面是c，但字符串中5个b之后还是b所以会报错。</p>
            <p>16&gt;[xyz]：xyz表示一个字符串，该模式表示匹配[]中的一个字符，形式上[xyz]等同于[x-z]。<br />例子：<br />var regx=/a[bc]d/;<br />var rs=regx.exec(&ldquo;abddgg&rdquo;);<br />结果：匹配成功，rs的值为：{abd}<br />例子2：<br />var regx=/a[bc]d/;<br />var rs=regx.exec(&ldquo;abcd&rdquo;);<br />结果：匹配失败，rs的值为：null，之所以失败，是因为[bc]表示匹配b或c中的一个，但不会同时匹配。</p>
            <p>17&gt;[^xyz]：该模式表示匹配非[]中的一个字符，形式上[^xyz]等同于[^x-z]。<br />例子：<br />var regx=/a[^bc]d/;<br />var rs=regx.exec(&ldquo;afddgg&rdquo;);<br />结果：匹配成功，rs的值为：{afd}<br />例子2：<br />var regx=/a[^bc]d/;<br />var rs=regx.exec(&ldquo;abd&rdquo;);<br />结果：匹配失败，rs的值为：。</p>
            <p>18&gt;[\b]：匹配退格键。</p>
            <p>19&gt;\b：匹配一个词的边界符，例如空格和换行符等等，当然匹配换行符时，表达式应该附加参数m。<br />例子：<br />var regx=/\bc./;<br />var rs=regx.exec(&ldquo;Beijing is a beautiful city&rdquo;);<br />结果：匹配成功，rs的值为：{ci}，注意c前边的空格不会匹配到结果中，即{ ci}是不正确的。</p>
            <p>20&gt;\B：代表一个非单词边界。<br />例子：<br />var regx=/\Bi./;<br />var rs=regx.exec(&ldquo;Beijing is a beautiful city&rdquo;);<br />结果：匹配成功，rs的值为：{ij}，即匹配了Beijing中的ij。</p>
            <p>21&gt;\cX，匹配一个控制字符。例如， \cM 匹配一个 Control-M 或 <br />回车符。 x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一 <br />个原义的 &rsquo;c&rsquo; 字符。（实际的例子还需补充）</p>
            <p>21&gt;\d：匹配一个数字字符，等同于[0-9]。<br />例子：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;user1&rdquo;);<br />结果：匹配成功，rs的值为：{user1}</p>
            <p>22&gt;\D：匹配一个非数字字符，等同于[^0-9]。<br />例子：<br />var regx=/user\D/;<br />var rs=regx.exec(&ldquo;userA&rdquo;);<br />结果：匹配成功，rs的值为：{userA}</p>
            <p>23&gt;\f：匹配一个换页符。</p>
            <p>24&gt;\n：匹配一个换行符。因为是换行符，所以在表达式中要加入m参数。<br />例子：<br />var regx=/a\nbc/m;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var str=&ldquo;a<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bc&rdquo;;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var rs=regx.exec(str);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 结果：匹配成功，rs的值为：{ }，如果表达式为/a\n\rbc/，则不会被匹配，因此在一般的编辑器中一个&rdquo;Enter&rdquo;键代表着&ldquo;回车换行&rdquo;，而非&ldquo;换行回车&rdquo;，至少在textarea域中是这样的。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />25&gt;\r：匹配一个回车符</p>
            <p>26&gt;\s：匹配一个空格符，等同于[ \f\n\r\t\v\u00A0\u2028\u2029].<br />例子：<br />var regx=/\si/;<br />var rs=regx.exec(&ldquo;Beijing is a city&rdquo;);<br />结果：匹配成功，rs的值为：{ i}</p>
            <p>27&gt;\S：匹配一个非空格符，等同于[ ^\f\n\r\t\v\u00A0\u2028\u2029].<br />例子：<br />var regx=/\Si/;<br />var rs=regx.exec(&ldquo;Beijing is a city&rdquo;);<br />结果：匹配成功，rs的值为：{ei}</p>
            <p>28&gt;\t：匹配一个tab<br />例子：<br />var regx=/a\tb/;<br />var rs=regx.exec(&ldquo;a bc&rdquo;);<br />结果：匹配成功，rs的值为： {a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bc}</p>
            <p>29&gt;\v：匹配一个竖向的tab</p>
            <p>30&gt;\w：匹配一个数字、_或字母表字符，即[A-Za-z0-9_ ]。<br />例子：<br />var regx=/\w/;<br />var rs=regx.exec(&ldquo;$25.23&rdquo;);<br />结果：匹配成功，rs的值为：{2}</p>
            <p>31&gt;\W：匹配一个非数字、_或字母表字符，即[^A-Za-z0-9_ ]。<br />例子：<br />var regx=/\w/;<br />var rs=regx.exec(&ldquo;$25.23&rdquo;);<br />结果：匹配成功，rs的值为：{$}</p>
            <p>32&gt;\n：注意不是\n，这里n是一个正整数，表示匹配第n个()中的字符。<br />例子：<br />var regx=/user([,-])group\1role/;<br />var rs=regx.exec(&ldquo;user-group-role&rdquo;);<br />结果：匹配成功，rs的值为：{user-group-role,-}，同样对user,group,role的匹配也是成功的，但像user-group,role等就不对了。</p>
            <p>33&gt;\0：匹配一个NUL字符。</p>
            <p>34&gt;\xhh：匹配一个由两位16进制数字所表达的字符。</p>
            <p>35&gt;\uhhhh：匹配一个由四位16进制数字所表达的字符。</p>
            <p><br /><span style="FONT-WEIGHT: bold;">3，表达式操作</span></p>
            <p>1）表达式操作，在这里是指和表达式相关的方法，我们将介绍六个方法。<br />2）表达式对象（RegExp）方法：</p>
            <p>1&gt;exec(str)，返回str中与表达式相匹配的第一个字符串，而且以数组的形式表现，当然如果表达式中含有捕捉用的小括号，则返回的数组中也可能含有()中的匹配字符串，例如：<br />var regx=/\d+/;<br />var rs=regx.exec(&ldquo;3432ddf53&rdquo;);<br />返回的rs值为：{3432}<br />var regx2=new RegExp(&ldquo;ab(\d+)c&rdquo;);<br />var rs2=regx2.exec(&ldquo;ab234c44&rdquo;);<br />返回的rs值为：{ab234c,234}<br />另外，如果有多个合适的匹配，则第一次执行exec返回一个第一个匹配，此时继续执行exec，则依次返回第二个第三个匹配。例如：<br />var regx=/user\d/g;<br />var rs=regx.exec(&ldquo;ddduser1dsfuser2dd&rdquo;);<br />var rs1=regx.exec(&ldquo;ddduser1dsfuser2dd&rdquo;);<br />则rs的值为{user1}，rs的值为{rs2}，当然注意regx中的g参数是必须的，否则无论exec执行多少次，都返回第一个匹配。后面还有相关内容涉及到对此想象的解释。</p>
            <p>2&gt;test(str)，判断字符串str是否匹配表达式，返回一个布尔值。例如：<br />var regx=/user\d+/g;<br />var flag=regx.test(&ldquo;user12dd&rdquo;);<br />flag的值为true。</p>
            <p>3）String对象方法</p>
            <p>1&gt;match(expr)，返回与expr相匹配的一个字符串数组，如果没有加参数g，则返回第一个匹配，加入参数g则返回所有的匹配<br />例子：<br />var regx=/user\d/g;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.match(regx);<br />rs的值为：{user1,user3}</p>
            <p>2&gt;search(expr)，返回字符串中与expr相匹配的第一个匹配的index值。<br />例子：<br />var regx=/user\d/g;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.search(regx);<br />rs的值为：0</p>
            <p>3&gt;replace(expr,str)，将字符串中匹配expr的部分替换为str。另外在replace方法中，str中可以含有一种变量符号$，格式为$n，代表匹配中被记住的第n的匹配字符串（注意小括号可以记忆匹配）。<br />例子：<br />var regx=/user\d/g;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.replace(regx,&rdquo;00&rdquo;);<br />rs的值为：003userddd0045<br />例子2：<br />var regx=/u(se)r\d/g;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.replace(regx,&rdquo;$1&rdquo;);<br />rs的值为：se3userdddse45<br />对于replace(expr,str)方法还要特别注意一点，如果expr是一个表达式对象则会进行全局替换（此时表达式必须附加参数g，否则也只是替换第一个匹配），如果expr是一个字符串对象，则只会替换第一个匹配的部分，例如：<br />var regx=&ldquo;user&rdquo;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.replace(regx,&rdquo;00&rdquo;);<br />rs的值为： 0013userddduser345</p>
            <p>4&gt;split(expr)，将字符串以匹配expr的部分做分割，返回一个数组，而且表达式是否附加参数g都没有关系，结果是一样的。<br />例子：<br />var regx=/user\d/g;<br />var str=&ldquo;user13userddduser345&rdquo;;<br />var rs=str.split(regx);<br />rs的值为：{3userddd,45}</p>
            <p><span style="FONT-WEIGHT: bold;">4，表达式相关属性</span></p>
            <p>1）表达式相关属性，是指和表达式相关的属性，如下面的形式：<br />var regx=/myexpr/;<br />var rs=regx.exec(str);<br />其中，和表达式自身regx相关的属性有两个，和表达式匹配结果rs相关的属性有三个，下面将逐一介绍。<br />2）和表达式自身相关的两个属性：</p>
            <p>1&gt;lastIndex，返回开始下一个匹配的位置，注意必须是全局匹配（表达式中带有g参数）时，lastIndex才会有不断返回下一个匹配值，否则该值为总是返回第一个下一个匹配位置，例如：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var lastIndex1=regx.lastIndex;<br />rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var lastIndex2=regx.lastIndex;<br />rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var lastIndex3=regx.lastIndex; <br />上面lastIndex1为9，第二个lastIndex2也为9，第三个也是9；如果regx=/user\d/g，则第一个为9，第二个为18，第三个为0。</p>
            <p>2&gt;source，返回表达式字符串自身。例如：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var source=regx.source;<br />source的值为user\d<br />3）和匹配结果相关的三个属性：</p>
            <p>1&gt;index，返回当前匹配的位置。例如：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var index1=rs.index;<br />rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var index2=rs.index; <br />rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var index3=rs.index; <br />index1为4，index2为4，index3为4，如果表达式加入参数g，则index1为4，index2为13，index3会报错（index为空或不是对象）。</p>
            <p>2&gt;input，用于匹配的字符串。例如：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var input=rs.input;<br />input的值为sdsfuser1dfsfuser2。</p>
            <p>3&gt;[0]，返回匹配结果中的第一个匹配值，对于match而言可能返回一个多值的数字，则除了[0]外，还可以取[1]、[2]等等。例如：<br />var regx=/user\d/;<br />var rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var value1=rs[0];<br />rs=regx.exec(&ldquo;sdsfuser1dfsfuser2&rdquo;);<br />var value2=rs[0]; <br />value1的值为user1,value2的值为user2</p>
            <p><span style="FONT-WEIGHT: bold;">5，实际应用</span></p>
            <p>1）实际应用一<br />描述：有一表单，其中有一个&ldquo;用户名&rdquo;input域<br />要求：汉字，而且不能少于2个汉字，不能多于4个汉字。<br />实现：<br />&lt;script&gt;<br />function checkForm(obj){<br />&nbsp;&nbsp;&nbsp;&nbsp; var username=obj.username.value;<br />&nbsp;&nbsp;&nbsp;&nbsp; var regx=/^[\u4e00-\u9fa5]{2,4}$/g<br />&nbsp;&nbsp;&nbsp;&nbsp; if(!regx.test(username)){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert(&ldquo;Invalid username!&rdquo;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false; <br />&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp; return true;<br />}<br />&lt;/script&gt;<br />&lt;form name=&ldquo;myForm&rdquo;onSubmit=&ldquo;return checkForm(this)&rdquo;&gt;<br />&nbsp;&nbsp;&nbsp; &lt;input type=&ldquo;text&rdquo; name=&ldquo;username&rdquo;/&gt;<br />&nbsp;&nbsp;&nbsp; &lt;input type=&ldquo;submit&rdquo; vlaue=&ldquo;submit&rdquo;/&gt;<br />&lt;/form&gt;<br />2）实际应用二<br />描述：给定一个含有html标记的字符串，要求将其中的html标记去掉。<br />实现：<br />&lt;script&gt;<br />function toPlainText(htmlStr){<br />&nbsp;&nbsp;&nbsp;&nbsp; var regx=/&lt;[^&gt;]*&gt;|&lt;\/[^&gt;]*&gt;/gm;<br />&nbsp;&nbsp;&nbsp;&nbsp; var str=htmlStr.replace(regx,"");<br />&nbsp;&nbsp;&nbsp;&nbsp; return str;<br />}<br />&lt;/script&gt;<br />&lt;form name=&ldquo;myForm&rdquo;&gt;<br />&nbsp;&nbsp;&nbsp; &lt;textarea id=&ldquo;htmlInput&rdquo;&gt;&lt;/textarea&gt;<br />&nbsp;&nbsp;&nbsp; &lt;input type=&ldquo;button&rdquo; value=&ldquo;submit&rdquo; onclick=&ldquo;toPlainText(document.getElementById(&lsquo;htmlInput&rsquo;).value&rdquo;/&gt;<br />&lt;/form&gt;</p>
            <p><span style="FONT-WEIGHT: bold; FONT-SIZE: 18pt;">三，小结</span></p>
            <p>1，Javascript正则表达式，我想在一般的程序员之中，使用者应该不是很多，因为我们处理的页面一般都不是很复杂，而复杂的逻辑一般我们都 在后台处理完成了。但是目前趋势已经出现了扭转，富客户端已经被越来越多的人接受，而Javascript就是其中的关键技术，对于复杂的客户端逻辑而 言，正则表达式的作用也是很关键的，同时它也是Javascript高手必须要掌握的重要技术之一。</p>
            <p>2，为了能够便于大家对前面讲述的内容有一个更为综合和深刻的认识，我将前面的一些关键点和容易犯糊涂的地方再系统总结一下，这部分很关键！<br /><span style="FONT-WEIGHT: bold;">总结1：附件参数g的用法</span><br />表达式加上参数g之后，表明可以进行全局匹配，注意这里&ldquo;可以&rdquo;的含义。我们详细叙述：<br />1）对于表达式对象的exec方法，不加入g，则只返回第一个匹配，无论执行多少次均是如此，如果加入g，则第一次执行也返回第一个匹配，再执行返回第二个匹配，依次类推。例如<br />var regx=/user\d/;<br />var str=&ldquo;user18dsdfuser2dsfsd&rdquo;;<br />var rs=regx.exec(str);//此时rs的值为{user1}<br />var rs2=regx.exec(str);//此时rs的值依然为{user1}<br />如果regx=/user\d/g；则rs的值为{user1}，rs2的值为{user2}<br />通过这个例子说明：对于exec方法，表达式加入了g，并不是说执行exec方法就可以返回所有的匹配，而是说加入了g之后，我可以通过某种方式得到所有的匹配，这里的&ldquo;方式&rdquo;对于exec而言，就是依次执行这个方法即可。<br />2）对于表达式对象的test方法，加入g于不加上g没有什么区别。<br />3） 对于String对象的match方法，不加入g，也只是返回第一个匹配，一直执行match方法也总是返回第一个匹配，加入g，则一次返回所有的匹配 （注意这与表达式对象的exec方法不同，对于exec而言，表达式即使加上了g，也不会一次返回所有的匹配）。例如：<br />var regx=/user\d/;<br />var str=&ldquo;user1sdfsffuser2dfsdf&rdquo;;<br />var rs=str.match(regx);//此时rs的值为{user1}<br />var rs2=str.match(regx);//此时rs的值依然为{user1}<br />如果regx=/user\d/g，则rs的值为{user1,user2}，rs2的值也为{user1,user2}<br />4）对于String对象的replace方法，表达式不加入g，则只替换第一个匹配，如果加入g，则替换所有匹配。（开头的三道测试题能很好的说明这一点）<br />5）对于String对象的split方法，加上g与不加g是一样的，即：<br />var sep=/user\d/;<br />var array=&ldquo;user1dfsfuser2dfsf&rdquo;.split(sep);<br />则array的值为{dfsf, dfsf}<br />此时sep=/user\d/g，返回值是一样的。<br />6）对于String对象的search方法，加不加g也是一样的。<br /><span style="FONT-WEIGHT: bold;">总结2：附加参数m的用法</span><br />附加参数m，表明可以进行多行匹配，但是这个只有当使用^和$模式时才会起作用，在其他的模式中，加不加入m都可以进行多行匹配（其实说多行的字符串也是一个普通字符串），我们举例说明这一点<br />1）使用^的例子<br />var regx=/^b./g;<br />var str=&ldquo;bd76 dfsdf<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sdfsdfs dffs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b76dsf sdfsdf&rdquo;;<br />var rs=str.match(regx);<br />此 时加入g和不加入g，都只返回第一个匹配{bd}，如果regx=/^b./gm，则返回所有的匹配{bd,b7}，注意如果regx=/^b./m，则 也只返回第一个匹配。所以，加入m表明可以进行多行匹配，加入g表明可以进行全局匹配，综合到一起就是可以进行多行全局匹配<br />2）使用其他模式的例子，例如<br />var regx=/user\d/;<br />var str=&ldquo;sdfsfsdfsdf<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sdfsuser3 dffs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b76dsf user6&rdquo;;<br />var rs=str.match(regx);<br />此时不加参数g，则返回{user3}，加入参数g返回{user3,user6}，加不加入m对此没有影响。<br />3）因此对于m我们要清楚它的使用，记住它只对^和$模式起作用，在这两种模式中，m的作用为：如果不加入m，则只能在第一行进行匹配，如果加入m则可以在所有的行进行匹配。我们再看一个^的例子<br />var regx=/^b./;<br />var str=&ldquo;ret76 dfsdf<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bjfsdfs dffs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b76dsf sdfsdf&rdquo;;<br />var rs=str.match(regx);<br />此 时rs的值为null，如果加入g，rs的值仍然为null，如果加入m，则rs的值为{bj}（也就是说，在第一行没有找到匹配，因为有参数m，所以可 以继续去下面的行去找是否有匹配），如果m和g都加上，则返回{bj,b7}（只加m不加g说明，可以去多行进行匹配，但是找到一个匹配后就返回，加入g 表明将多行中所有的匹配返回，当然对于match方法是如此，对于exec呢，则需要执行多次才能依次返回）<br /><span style="FONT-WEIGHT: bold;">总结3</span>：在HTML的textarea输入域中，按一个Enter键，对应的控制字符为&ldquo;\r\n&rdquo;，即&ldquo;回车换行&rdquo;，而不是&ldquo;\n\r&rdquo;，即&ldquo;换行回车&rdquo;，我们看一个前面我们举过的例子：<br />var regx=/a\r\nbc/;<br />var str=&ldquo;a<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bc&rdquo;;<br />var rs=regx.exec(str);<br />结果：匹配成功，rs的值为：{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }，如果表达式为/a\n\rbc/，则不会被匹配，因此在一般的编辑器中一个&rdquo;Enter&rdquo;键代表着&ldquo;回车换行&rdquo;，而非&ldquo;换行回车&rdquo;，至少在textarea域中是这样的。</p>
            </div>
            </td>
        </tr>
    </tbody>
</table></div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2008/03/24/171-2007%E5%B9%B4%E5%BA%A6%E6%9C%80%E4%BD%B3%E5%B9%BD%E9%BB%98%E7%9F%AD%E7%AF%87/">2007年度最佳幽默短篇</a><a class="next" href="/2008/03/23/169-%E9%A3%9F%E6%8C%87%E6%98%BE%E9%9C%B2%E4%BD%A0%E7%9A%84%E7%88%B1%E6%83%85%E8%A7%82,%E5%87%86%E4%B8%8D%E5%87%86%E8%87%AA%E5%B7%B1%E7%9C%8B/">食指显露你的爱情观,准不准自己看</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://anthoney.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/yontaw" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:admin@from2.net" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/anthoney" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/GIS/">GIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E6%96%87%E5%9C%B0%E7%90%86/">人文地理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%83%E5%96%9D%E7%8E%A9%E4%B9%90/">吃喝玩乐</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%96%E8%AF%AD/">外语</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BD%B1%E9%9F%B3%E5%9B%BE%E5%BD%A2/">影音图形</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BF%83%E8%B7%AF/">心路</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%8A%80%E6%9C%AF/">软件技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A3%9E%E8%A1%8C%E6%A2%A6%E6%83%B3/">飞行梦想</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/09/30/455-FlexNet%20lmtools%20license%20vitual%20adapter%20Revit%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1/">FlexNet lmtools license vitual adapter Revit配置虚拟网卡</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/08/454-%E6%88%BF%E5%B1%8B%E5%9D%90%E5%90%91%E4%BB%A5%E4%BB%80%E4%B9%88%E4%B8%BA%E5%87%86%20%E6%88%BF%E5%B1%8B%E5%9D%90%E5%90%91%E6%80%8E%E4%B9%88%E7%9C%8B/">房屋坐向以什么为准 房屋坐向怎么看</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/12/453-FME%20Desktop%202021%20for%20Mac%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91%E6%95%99%E7%A8%8B/">FME Desktop 2021 for Mac安装踩坑教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/452-%E4%BF%9D%E5%8F%B7google%20voice%E9%99%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/">保号google voice附使用建议</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/14/451-5G%20Wifi%20Router%20Band%20Channel%20limit%E4%BF%AE%E6%94%B95GWIFI%E8%B7%AF%E7%94%B1%E4%B8%AD%E5%9B%BD%E9%A2%91%E6%AE%B5%E9%99%90%E5%88%B6/">5G Wifi Router Band Channel limit修改5GWIFI路由中国频段限制</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/22/450-%E8%80%81%E6%AC%BEiPhone%E5%8F%98%E6%85%A2%E5%8D%A1%E9%A1%BF%E6%8E%89%E5%B8%A7%E5%8F%91%E7%83%AD%E5%88%87%E6%8D%A2%E8%BF%9F%E7%BC%93%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E5%88%86%E4%BA%AB/">老款iPhone变慢卡顿掉帧发热切换迟缓解决方法分享</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/13/449-python%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E5%81%8F%E6%96%B9/">python中文字符乱码解决偏方</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/02/448-Python%20opencv%20error%20215%20imshow%20%E9%97%AE%E9%A2%98/">Python opencv error 215 imshow 问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/04/447-python%20faild_install_package%20%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">python faild_install_package 报错解决办法</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/06/16/446-%E5%8F%A4%E5%85%B8%E8%AF%97%E8%AF%8D/">古典诗词</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">from2.net.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>
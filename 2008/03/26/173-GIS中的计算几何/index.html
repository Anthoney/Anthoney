<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>GIS中的计算几何 | from2.net</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">GIS中的计算几何</h1><a id="logo" href="/.">from2.net</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">GIS中的计算几何</h1><div class="post-meta">2008-03-26<span> | </span><span class="category"><a href="/categories/%E5%BD%B1%E9%9F%B3%E5%9B%BE%E5%BD%A2/">影音图形</a></span></div><div class="post-content"><p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span><font face="Times New Roman">GIS</font></span><span>是一个图形系统，必然会涉及到几何学的理论应用，比如，图形可视化，空间拓扑分析，</span><span><font face="Times New Roman">GIS</font></span><span>图形编辑等都需要用到几何。向量几何是用代数的方法来研究几何问题，首先，请大家翻一翻高等数学里有关向量的章节，熟悉一下几个重要的概念：向量、向量的模、向量的坐标表示、向量的加减运算、向量的点积、向量的叉积，以及这些概念的几何意义</span><span><font face="Times New Roman">...</font></span><span>下面我们将用这些基本概念来解答</span><span><font face="Times New Roman">GIS</font></span><span>中一些几何问题。</span></p>
<h1><span><span><font face="Times New Roman">1<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>点和线的关系</span></h1>
<p><span style="FONT-SIZE: 10.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 点是否在<strong>线段</strong>上，这样的判断在图形编辑，拓扑判断</span><span style="FONT-SIZE: 10.5pt;">(</span><span style="FONT-SIZE: 10.5pt;">比如，</span><span style="FONT-SIZE: 10.5pt;">GPS</span><span style="FONT-SIZE: 10.5pt;">跟踪点是否跑在线上</span><span style="FONT-SIZE: 10.5pt;">)</span><span style="FONT-SIZE: 10.5pt;">需要用到这样的判断。通常的想法是：先求线段的直线方程，再判断点是否符合这条直线方程，如果符合，还要判断点是否在线段所在的矩形区域</span><span style="FONT-SIZE: 10.5pt;">(MBR)</span><span style="FONT-SIZE: 10.5pt;">内，以排除延长线上的可能性，如果不符合，则点不在线段上。这种思路是可行的，但效率不高，涉及到建立方程，解方程。借助向量的叉积（也叫向量的向量积，结果还是向量，有方向的）可以很容易的判断。设向量</span><strong><span style="FONT-SIZE: 10.5pt;">a=</span></strong><span style="FONT-SIZE: 10.5pt;">(Xa,Ya,Za)<span>&nbsp;&nbsp;</span><strong>b</strong>=(Xb,Yb,Zb)<span>&nbsp;&nbsp;</span></span><span style="FONT-SIZE: 10.5pt;">向量叉积</span><strong><span style="FONT-SIZE: 10.5pt;">a </span></strong><span style="FONT-SIZE: 10.5pt;">X <strong>b</strong></span><span style="FONT-SIZE: 10.5pt;">如下：</span></p>
<span style="FONT-SIZE: 10.5pt;">
<div>
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/40293faf27411af2fbed50e7.jpg" /></div>
</div>
<p align="center" class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%; TEXT-ALIGN: center;"><span>二维向量叉积的模</span><span><font face="Times New Roman"> |<strong>a </strong>X<strong> b|=|a|*|b|*sin&alpha;</strong>=<strong>|</strong>Xa*Yb-Ya*Xb<strong>| </strong></font></span><span>（</span><strong><span><font face="Times New Roman">&alpha;</font></span></strong><span>是向量</span><strong><span><font face="Times New Roman">a,b</font></span></strong><span>之间的夹角），向量叉积模的几何意义是以向量</span><strong><span><font face="Times New Roman">a,b</font></span></strong><span>为邻边的平行四边形的面积。可以推测：如果两向量共线，向量叉积模</span><span><font face="Times New Roman">(</font></span><span>所代表的</span></p>
<p align="center" class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%; TEXT-ALIGN: center;"><span>平行四边形的面积</span><span><font face="Times New Roman">) </font></span><span>为零</span><font face="Times New Roman"> </font><span>则</span><span><span><font face="Times New Roman">&nbsp;&nbsp;</font></span></span><span><span><font face="Times New Roman">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></span></span></p>
<div><span style="FONT-SIZE: 10.5pt;">|<strong>a </strong>X<strong> b|=|a|*|b|*sin&alpha;</strong>=<strong>|</strong>Xa*Yb-Ya*Xb<strong>|=0</strong>,</span><span style="FONT-SIZE: 10.5pt;">否则不共线，叉积的模为非零，根据这样条件可以很轻松的判断点和线的关系，避免了建立方程和解方程的麻烦。</span></div>
<div><span style="FONT-SIZE: 10.5pt;">
<div>
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/853bdc1293b392c7c3fd78e0.jpg" /></div>
<div>&nbsp;</div>
</div>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; LINE-HEIGHT: 150%;"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 向量叉积的模</span><span><font face="Times New Roman">|<strong>AB </strong>X <strong>AC|=0</strong></font></span><span>即可判断</span><span><font face="Times New Roman">C</font></span><span>点在</span><span><font face="Times New Roman">AB</font></span><span>所确定的<strong>直线</strong>上，再结合</span><span><font face="Times New Roman">C</font></span><span>点是否在</span><span><font face="Times New Roman">AB</font></span><span>所在的</span><span><font face="Times New Roman">MBR</font></span><span>范围内，就可以最终确定</span><span><font face="Times New Roman">C</font></span><span>是否在</span><span><font face="Times New Roman">AB</font></span><strong><span>线段</span></strong><span>上。关于点和线段的其他关系，都可以通过叉积的求得，比如</span><font face="Times New Roman"> </font><span>判断点在线的哪一侧，右手法则，可以通过</span><font face="Times New Roman"><strong><span>a </span></strong><span>X<strong> b= (</strong>Xa*Yb-Ya*Xb<strong>)*k</strong></span></font><span>中的（</span><span><font face="Times New Roman">Xa*Yb-Ya*Xb</font></span><span>）正负来判断。留给大家思考，很简单的，呵呵</span><span><font face="Times New Roman">&hellip;</font></span></p>
<h1><span><span><font face="Times New Roman">2<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>线和线的关系</span></h1>
<div><span style="FONT-SIZE: 10.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 判断两条<strong>线段</strong>是否相交，在很多拓扑判断和图形编辑</span><span style="FONT-SIZE: 10.5pt;"> (</span><span style="FONT-SIZE: 10.5pt;">比如，线的打断来构建拓扑，编辑线对象，叠置分析，面与面关系的判断等</span><span style="FONT-SIZE: 10.5pt;">) </span><span style="FONT-SIZE: 10.5pt;">中都需要用到线线相交的判断，如果两条线段相交，一条线段的两端点必然位于另一条线段的两侧（不考虑退化情况，也就是一条线段的端点在另一条线段上，这个很容易判断）</span></div>
<div><span style="FONT-SIZE: 10.5pt;">
<div>
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/1368c84bae4322f982025ce1.jpg" /></div>
<div>&nbsp;</div>
</div>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>两向量的叉积</span><font face="Times New Roman"><strong><span>a </span></strong><span>X<strong> b= (</strong>Xa*Yb-Ya*Xb<strong>)*k </strong></span></font><span>，分别判断</span><span><font face="Times New Roman">AB X AC</font></span><span>的方向与</span><span><font face="Times New Roman">AB X AD</font></span><span>的方向是否异号，再判断</span><span><font face="Times New Roman">CD X CA </font></span><span>的方向与</span><span><font face="Times New Roman">CD X CB</font></span><span>的方向是否异号，即可判断两线段是否相交。</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>退化情况，即一条线的端点落在另一条线上。运用</span><span><font face="Times New Roman">&rdquo;</font></span><span>点是否在线段上</span><span><font face="Times New Roman">&rdquo;</font></span><span>的方法来判定。详细区分留给大家思考。呵呵</span><span><font face="Times New Roman">&hellip;</font></span></p>
<div><span style="FONT-SIZE: 10.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 利用向量的方向还可以判断线段的转向，这个在道路导航中有所应用：</span></div>
<div><span style="FONT-SIZE: 10.5pt;">
<div>
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/1b18ad95ac12fc42d1135ee2.jpg" /></div>
</div>
<h1><span><span><font face="Times New Roman">3<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>点和面的关系</span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>在各种拓扑判断中（比如，面对象的选取，包含关系的判断等）需要判断一个点是否位于某个面内，经典的方法就是&ldquo;垂线法&rdquo;，在直角坐标系中，从这个点向</span><span><font face="Times New Roman">X</font></span><span>轴作射线，判断射线与多边形的交点个数（不考虑退化情况，退化情况下，判断点或者射线与多边形端点或者边的关系），如果为奇数，则点在面内，为偶数，则点在面外。</span></p>
<h1><span style="FONT-SIZE: 10.5pt;"><span style="FONT-SIZE: 10.5pt;"><span><font face="Times New Roman"></font></span></span></span></h1>
<div>
<div>
<div><span style="FONT-SIZE: 10.5pt;"><span>
<h1><span><span><font face="Times New Roman">4<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>线和面的关系</span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>线面关系的判断相对比较复杂，线在面内，线和面相交，相离，相接等关系。线段在面内，第一个必要条件是，线段的两个端点都要在内。</span><span style="LINE-HEIGHT: 150%;">但由于多边形可能为凹，所以这</span><span>不能</span><span style="LINE-HEIGHT: 150%;">成为判断的充分条件，于是有第二个必要条件线段与多边形的边，没有内部交点。</span><span style="LINE-HEIGHT: 150%;"></span></p>
<p><span style="FONT-SIZE: 10.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 线段</span><span style="FONT-SIZE: 10.5pt;">和多边形交于线段的两端点并不会影响线段是否在多边形内；但是如果多边形的某个顶点和线段相交，还必须判断两相邻交点之间的线段是否包含于多边形内部，如果在面内，则线段在面内，否则不在面内。</span></p>
<span style="FONT-SIZE: 10.5pt;">
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/ccdf7ed5c50e8ccd51da4bf1.jpg" /></div>
<div>&nbsp;</div>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span style="LINE-HEIGHT: 150%;">所以，算法思路如下（本算法引用网络上一篇文章）：</span><span style="LINE-HEIGHT: 150%;"></span></p>
<p class="MsoNormal"><span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="FONT-SIZE: 10pt;">if </span><span style="FONT-SIZE: 10pt;">线段</span><span style="FONT-SIZE: 10pt;">PQ</span><span style="FONT-SIZE: 10pt;">的端点不都在多边形内</span><span style="FONT-SIZE: 10pt;"> <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then return false;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="FONT-SIZE: 10pt;">点集</span><span style="FONT-SIZE: 10pt;">pointSet</span><span style="FONT-SIZE: 10pt;">初始化为空</span><span style="FONT-SIZE: 10pt;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for </span><span style="FONT-SIZE: 10pt;">多边形的每条边</span><span style="FONT-SIZE: 10pt;">s<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do if </span><span style="FONT-SIZE: 10pt;">线段的某个端点在</span><span style="FONT-SIZE: 10pt;">s</span><span style="FONT-SIZE: 10pt;">上</span><span style="FONT-SIZE: 10pt;"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then </span><span style="FONT-SIZE: 10pt;">将该端点加入</span><span style="FONT-SIZE: 10pt;">pointSet;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if s</span><span style="FONT-SIZE: 10pt;">的某个端点在线段</span><span style="FONT-SIZE: 10pt;">PQ</span><span style="FONT-SIZE: 10pt;">上</span><span style="FONT-SIZE: 10pt;"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then </span><span style="FONT-SIZE: 10pt;">将该端点加入</span><span style="FONT-SIZE: 10pt;">pointSet;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if s</span><span style="FONT-SIZE: 10pt;">和线段</span><span style="FONT-SIZE: 10pt;">PQ</span><span style="FONT-SIZE: 10pt;">相交</span><span style="FONT-SIZE: 10pt;"> <span style="COLOR: gray;">// </span></span><span style="FONT-SIZE: 10pt; COLOR: gray;">这时候已经可以肯定是内交了</span><span style="FONT-SIZE: 10pt;"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then return false;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="FONT-SIZE: 10pt;">将</span><span style="FONT-SIZE: 10pt;">pointSet</span><span style="FONT-SIZE: 10pt;">中的点按照</span><span style="FONT-SIZE: 10pt;">X-Y</span><span style="FONT-SIZE: 10pt;">坐标排序</span><span style="FONT-SIZE: 10pt;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for pointSet</span><span style="FONT-SIZE: 10pt;">中每两个相邻点</span><span style="FONT-SIZE: 10pt;"> pointSet[i] , pointSet[ i+1]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; do if pointSet[i] , pointSet[ i+1] </span><span style="FONT-SIZE: 10pt;">的中点不在多边形中</span><span style="FONT-SIZE: 10pt;"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; then return false;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;</span><span style="FONT-SIZE: 10pt;"><br /><br /></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt;"><span style="FONT-SIZE: 10pt;">注：</span><span style="FONT-SIZE: 10pt;">X-Y</span><span style="FONT-SIZE: 10pt;">坐标排序，</span><span style="FONT-SIZE: 10pt;">X</span><span style="FONT-SIZE: 10pt;">坐标小的排在前面，对于<span>X</span>坐标相同的点，<span>Y</span>坐标小的排在前面，这种排序准则也是为了保证水平和垂直情况的判断正确。<span></span></span></p>
<p class="MsoNormal"><span style="FONT-SIZE: 10pt;"><span>1.<span style="FONT: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="FONT-SIZE: 10pt;">点在面内，线段相交情况的判断见上面的思路。<span></span></span></p>
<p class="MsoNormal"><span style="FONT-SIZE: 10pt;"><span>2.<span style="FONT: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="FONT-SIZE: 10pt;">这个过程中的排序因为交点数目肯定远小于多边形的顶点数目<span>n</span>，所以最多是常数</span><span style="FONT-SIZE: 10pt;">级</span><span style="FONT-SIZE: 10pt;">的复杂度，几乎可以忽略不计。因此算法的时间复杂度也是<span>O(n)</span>。<span></span></span></p>
<p class="MsoNormal"><span style="FONT-SIZE: 10pt;"><span>3.<span style="FONT: 7pt 'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span><span style="FONT-SIZE: 10pt;">有了线</span><span style="FONT-SIZE: 10pt;">段</span><span style="FONT-SIZE: 10pt;">和面的关系，再判断折线与面的关系，也就可以<span>for</span>循环，同理进行判断了，但时间复杂度将是<span>O(n^2)</span>。后面将介绍一种时间复杂度为<span>O(nlogn)</span>的<span>&rdquo;</span>平面扫描算法<span>&rdquo;</span>。<span></span></span></p>
<p class="MsoNormal"><span><font face="Times New Roman"></font></span></p>
<h1><span><span><font face="Times New Roman">5<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>面和面的关系</span></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span style="LINE-HEIGHT: 150%;">面面</span><span>的空间关系，可能要更复杂一些，在拓扑判断，多边形叠置分析，面对象的编辑中，有着广泛的应用。这个将在以后的章节中介绍一种时间复杂度为</span><span><font face="Times New Roman">O</font></span><span>（</span><span><font face="Times New Roman">nlogn</font></span><span>）的算法&ldquo;平面扫描算法&rdquo;。</span></p>
<h1><span><span><font face="Times New Roman">6<span style="FONT: 7pt 'Times New Roman';"><font size="6">&nbsp;&nbsp;&nbsp;&nbsp;</font></span></font></span></span><span>点到线段的距离</span></h1>
<div><span style="FONT-SIZE: 10.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 点到线段的距离，在各种测量，拓扑判断</span><span style="FONT-SIZE: 10.5pt;">(</span><span style="FONT-SIZE: 10.5pt;">比如，线对象的选取中需要比较距离</span><span style="FONT-SIZE: 10.5pt;">)</span><span style="FONT-SIZE: 10.5pt;">中都需要用到。大家对点到直线的距离，都很熟悉，那点到<strong>线段</strong>距离又该如何计算呢？</span></div>
<div><span style="FONT-SIZE: 10.5pt;">
<div><img alt="" border="0" class="blogimg" src="http://hiphotos.baidu.com/geochenyj/pic/item/831ff20a782d741695ca6bfc.jpg" /></div>
<div>&nbsp;</div>
<div><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 问题的关键是判断</span><span><font face="Times New Roman">a</font></span><span>、</span><span><font face="Times New Roman">r</font></span><span>的角度，向量的点积能判断一个角是钝角还是锐角，先复习一下向量的点积，也叫向量的数量积</span><span><font face="Times New Roman">,</font></span><span>结果是一个数，没有方向。设向量</span><font face="Times New Roman"><strong><span>a=</span></strong><span>(Xa,Ya,Za)<span>&nbsp;&nbsp;</span><strong>b</strong>=(Xb,Yb,Zb)<span>&nbsp;&nbsp;</span></span></font></div>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><font face="Times New Roman"><strong><span>a . b=|a|*|b|*cos&alpha;=</span></strong><span>Xa*Xb+Ya*Yb+Za*Zb </span></font><span>向量点积的几何意义是，高中物理中，求作用力在一个方向上所作的功。如果</span><strong><span><font face="Times New Roman">a . b&gt;0</font></span></strong><span>，则</span><strong><span><font face="Times New Roman">&alpha;</font></span></strong><span>为锐角，</span><font face="Times New Roman"><strong><span>a . b</span></strong><span>&lt;0,</span></font><span>则</span><strong><span><font face="Times New Roman">&alpha;</font></span></strong><span>钝角。</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>熟悉了利用向量的点积来判断角度，</span><span><font face="Times New Roman">A</font></span><span>C</span><strong><span>&middot;</span></strong><span><font face="Times New Roman">AB </font></span><span>判断夹角</span><span><font face="Times New Roman">a</font></span><span>，</span><span><font face="Times New Roman">B</font></span><span>A</span><span>&middot;<span>BC</span>判断夹角<span>r</span>，即可确定三种情况中，具体是哪一种。至于第一种情况，求点到垂足的距离，可以饶开建立方程求垂足，再求两点距离的思路，因为建立方程运算是复杂的，多耗了<span>CPU</span>资源。利用向量叉积的几何意义来求，向量的叉积表示以两向量为邻边的平行四边形的面积，<span>|AC X AB|</span>为⊿<span>ABC</span>的面积的两倍，求平行四边形的高<span>,</span>只要用面积除以底边<span>AB</span>的长度。即，高<span>CD</span>的长度<span>=|AC X AB|/distance(AB)</span>。</span><font face="Times New Roman"> </font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><font face="Times New Roman"></font></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 21.85pt; LINE-HEIGHT: 150%;"><span>这些</span><span>复杂</span><span>的几何判断，都将在空间索引的过滤下，在少量数据集</span><span><font face="Times New Roman">(</font></span><span>侯选集</span><span><font face="Times New Roman">)</font></span><span>上进行。</span><span>计算几何算法，通常是比较复杂，比较耗</span><span><font face="Times New Roman">CPU</font></span><span>资源，而且还要考虑各种退化情况，在这里，并不试图向大家穷举各种情况，只想起一个抛砖引玉的作用，</span><font face="Times New Roman"> </font><span>或许还有人会有这样的疑虑：有没考虑&ldquo;<strong>投影</strong>&rdquo;的问题？关于<strong>投影</strong>将在相应的章节中给予解释，但有一点是可以肯定的，空间分析、计算几何算法，都是在平面直角坐标系下运算的，不会在球面上。</span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt;"><span><font face="Times New Roman"></font></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt;"><span><font face="Times New Roman"></font></span></p>
<span style="FONT-SIZE: 10.5pt;"><span></span></span></span></div>
<div><span style="FONT-SIZE: 10.5pt;"><span style="FONT-SIZE: 10.5pt;"><span><a target="_blank" rel="noopener" href="http://www.from2.net/mailto:geochenyj@hotmail.com"></a></span></span></span></div>
</span></span></span></div>
</div>
</div>
</span></div>
</span></div>
</span></div>
</span></div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2008/03/27/174-%E6%89%AB%E6%8F%8F%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%A1%AB%E5%85%85%E7%AE%97%E6%B3%95/">扫描多边形填充算法</a><a class="next" href="/2008/03/25/172-%E5%90%84%E5%BC%8F%E5%83%8F%E7%9C%9F%E6%A9%9F%E7%89%88%E5%9E%8B/">各式像真機版型</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://anthoney.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img class="nofancybox" src="/img/avatar.png"/></a><p>To be a better man.</p><a class="info-icon" href="https://twitter.com/yontaw" title="Twitter" target="_blank" style="margin-inline:5px"> <i class="fa fa-twitter-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:admin@from2.net" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/anthoney" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="/atom.xml" title="RSS" target="_blank" style="margin-inline:5px"> <i class="fa fa-rss-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/GIS/">GIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E6%96%87%E5%9C%B0%E7%90%86/">人文地理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%83%E5%96%9D%E7%8E%A9%E4%B9%90/">吃喝玩乐</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%96%E8%AF%AD/">外语</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BD%B1%E9%9F%B3%E5%9B%BE%E5%BD%A2/">影音图形</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BF%83%E8%B7%AF/">心路</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%B0%88/">杂谈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%8A%80%E6%9C%AF/">软件技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A3%9E%E8%A1%8C%E6%A2%A6%E6%83%B3/">飞行梦想</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/09/30/455-FlexNet%20lmtools%20license%20vitual%20adapter%20Revit%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1/">FlexNet lmtools license vitual adapter Revit配置虚拟网卡</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/08/454-%E6%88%BF%E5%B1%8B%E5%9D%90%E5%90%91%E4%BB%A5%E4%BB%80%E4%B9%88%E4%B8%BA%E5%87%86%20%E6%88%BF%E5%B1%8B%E5%9D%90%E5%90%91%E6%80%8E%E4%B9%88%E7%9C%8B/">房屋坐向以什么为准 房屋坐向怎么看</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/12/453-FME%20Desktop%202021%20for%20Mac%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91%E6%95%99%E7%A8%8B/">FME Desktop 2021 for Mac安装踩坑教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/452-%E4%BF%9D%E5%8F%B7google%20voice%E9%99%84%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE/">保号google voice附使用建议</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/14/451-5G%20Wifi%20Router%20Band%20Channel%20limit%E4%BF%AE%E6%94%B95GWIFI%E8%B7%AF%E7%94%B1%E4%B8%AD%E5%9B%BD%E9%A2%91%E6%AE%B5%E9%99%90%E5%88%B6/">5G Wifi Router Band Channel limit修改5GWIFI路由中国频段限制</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/22/450-%E8%80%81%E6%AC%BEiPhone%E5%8F%98%E6%85%A2%E5%8D%A1%E9%A1%BF%E6%8E%89%E5%B8%A7%E5%8F%91%E7%83%AD%E5%88%87%E6%8D%A2%E8%BF%9F%E7%BC%93%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E5%88%86%E4%BA%AB/">老款iPhone变慢卡顿掉帧发热切换迟缓解决方法分享</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/13/449-python%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E5%81%8F%E6%96%B9/">python中文字符乱码解决偏方</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/02/448-Python%20opencv%20error%20215%20imshow%20%E9%97%AE%E9%A2%98/">Python opencv error 215 imshow 问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/04/447-python%20faild_install_package%20%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">python faild_install_package 报错解决办法</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/06/16/446-%E5%8F%A4%E5%85%B8%E8%AF%97%E8%AF%8D/">古典诗词</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">from2.net.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功！"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>